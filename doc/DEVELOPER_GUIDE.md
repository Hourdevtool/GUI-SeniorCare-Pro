# üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤ SeniorCare Pro

‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏í‡∏ô‡∏≤‡πÅ‡∏•‡∏∞‡∏Ç‡∏¢‡∏≤‡∏¢‡∏£‡∏∞‡∏ö‡∏ö SeniorCare Pro ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏° MVC

---

## üèóÔ∏è ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ

```
GUI-SeniorCare-Pro/
‚îú‚îÄ‚îÄ main.py                 # ‡∏à‡∏∏‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°
‚îú‚îÄ‚îÄ controllers/            # ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏´‡∏•‡∏±‡∏Å
‚îÇ   ‚îî‚îÄ‚îÄ app_controller.py   # AppController - ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ navigation ‡πÅ‡∏•‡∏∞ state
‚îú‚îÄ‚îÄ views/                  # ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ UI ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
‚îÇ   ‚îú‚îÄ‚îÄ login_view.py       # ‡∏´‡∏ô‡πâ‡∏≤ Login
‚îÇ   ‚îú‚îÄ‚îÄ home_view.py        # ‡∏´‡∏ô‡πâ‡∏≤ Home
‚îÇ   ‚îú‚îÄ‚îÄ medication_stock_view.py    # ‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏≤
‚îÇ   ‚îú‚îÄ‚îÄ schedule_setup_view.py      # ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡πà‡∏≤‡∏¢‡∏¢‡∏≤
‚îÇ   ‚îú‚îÄ‚îÄ health_view.py      # ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
‚îÇ   ‚îú‚îÄ‚îÄ report_view.py      # ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô
‚îÇ   ‚îî‚îÄ‚îÄ user_info_view.py   # ‡∏´‡∏ô‡πâ‡∏≤‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
‚îú‚îÄ‚îÄ models/                 # ‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÅ‡∏•‡∏∞ Services
‚îÇ   ‚îú‚îÄ‚îÄ voice_service.py    # ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏µ‡∏¢‡∏á
‚îÇ   ‚îî‚îÄ‚îÄ app_services.py     # ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≤‡∏á‡πÜ (auth, etc.)
‚îú‚îÄ‚îÄ config/                 # ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
‚îÇ   ‚îú‚îÄ‚îÄ styles.py           # ‡∏™‡∏µ, ‡∏ò‡∏µ‡∏°, ‡∏™‡πÑ‡∏ï‡∏•‡πå
‚îÇ   ‚îî‚îÄ‚îÄ constants.py        # ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏á‡∏ó‡∏µ‡πà
‚îú‚îÄ‚îÄ utils/                  # ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏´‡∏•‡∏∑‡∏≠
‚îÇ   ‚îî‚îÄ‚îÄ helpers.py          # Helper functions
‚îú‚îÄ‚îÄ server/                 # API Services
‚îÇ   ‚îú‚îÄ‚îÄ auth.py             # Authentication
‚îÇ   ‚îú‚îÄ‚îÄ managemedic.py      # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏¢‡∏≤
‚îÇ   ‚îú‚îÄ‚îÄ setting_time.py     # ‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ lib/                    # ‡πÑ‡∏•‡∏ö‡∏£‡∏≤‡∏£‡∏µ‡πÄ‡∏™‡∏£‡∏¥‡∏°
    ‚îú‚îÄ‚îÄ serial_handler.py   # ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Serial Port
    ‚îî‚îÄ‚îÄ ...
```

---

## üìÑ 1. ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà (New View)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå View

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `views/` ‡πÄ‡∏ä‡πà‡∏ô `views/my_new_view.py`

```python
import customtkinter as ctk
from PIL import Image
from lib.loadenv import PATH
from config.styles import force_color, back_color, hover_color
from utils.helpers import show_onboard, hide_onboard

class MyNewView(ctk.CTkFrame):
    def __init__(self, parent, controller):
        super().__init__(parent)
        self.controller = controller
        
        # ‡∏™‡∏£‡πâ‡∏≤‡∏á UI ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
        self.create_ui()
    
    def create_ui(self):
        """‡∏™‡∏£‡πâ‡∏≤‡∏á UI elements"""
        # ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
        bg_image = Image.open(f"{PATH}image/background.png").resize((1024, 800))
        self.bg_ctk_image = ctk.CTkImage(light_image=bg_image, size=(1024, 800))
        bg_label = ctk.CTkLabel(self, image=self.bg_ctk_image, text="")
        bg_label.place(x=0, y=0, relwidth=1, relheight=1)
        
        # ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö
        back_btn = ctk.CTkButton(
            self,
            text="‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
            command=self.go_back,
            fg_color=force_color,
            hover_color=hover_color
        )
        back_btn.place(x=20, y=20)
    
    def go_back(self):
        """‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ Home"""
        from views.home_view import HomePage
        self.controller.show_frame(HomePage)
    
    def on_show(self):
        """‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• - ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"""
        print("MyNewView is now visible")
        # ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏£‡∏∑‡∏≠ refresh UI ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô AppController

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `controllers/app_controller.py`:

```python
# 1. ‡πÄ‡∏û‡∏¥‡πà‡∏° import
from views.my_new_view import MyNewView

# 2. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô frame_classes (‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 145)
frame_classes = (
    HomePage, Frame2, Frame3, Frame4, add_Frame, info, 
    MedicationApp, AIgen, MedicationScheduleFrame, 
    ReportFrame, Report1, Report2, login, Wificonnect, LoadingScreen,
    MyNewView  # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ
)
```

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

```python
# ‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô‡∏Å‡πá‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î
self.controller.show_frame(MyNewView)
```

---

## üîò 2. ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ Home

‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç `views/home_view.py` ‡πÉ‡∏ô method `create_menu_buttons()`:

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Patient (‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢)
- ‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏∏‡πà‡∏° SOS ‡πÅ‡∏•‡∏∞ Logout

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö User (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•)
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 680-766:

```python
if user_role == 'user':
    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
    paths = [
        f"{PATH}imgNew/icontime.png",
        f"{PATH}imgNew/iconheath.png",
        f"{PATH}imgNew/iconreport.png",
        f"{PATH}imgNew/my_new_icon.png",  # ‚Üê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÉ‡∏´‡∏°‡πà
        f"{PATH}imgNew/iconout.png",
        f"{PATH}imgNew/icondow.png"
    ]
    
    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏∏‡πà‡∏°
    btn_texts = [
        "‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏•‡∏≤",
        "‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û",
        "‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô",
        "‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÉ‡∏´‡∏°‡πà",  # ‚Üê ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
        "‡∏≠‡∏≠‡∏Å‡∏£‡∏∞‡∏ö‡∏ö",
        "‡∏õ‡∏¥‡∏î‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á"
    ]
    
    # Import view ‡πÉ‡∏´‡∏°‡πà
    from views.my_new_view import MyNewView
    
    # ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô pages array
    pages = [Frame3, Frame4, ReportFrame, MyNewView, login, None]
```

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Admin (‡∏ú‡∏π‡πâ‡∏î‡∏π‡πÅ‡∏•‡∏£‡∏∞‡∏ö‡∏ö)
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 768-863 (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ö User)

---

## üåê 3. ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÉ‡∏ä‡πâ API

### 3.1 API ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡πÅ‡∏•‡πâ‡∏ß

```python
# ‡πÉ‡∏ô view ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
from server.managemedic import manageMedicData
from server.setting_time import setting_eat_time
from server.info import infoData

manageMedic = manageMedicData()
set_dispensing_time = setting_eat_time()
manageData = infoData()

# ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
def load_medicines(self):
    result = manageMedic.getMedicine(
        self.controller.user['id'], 
        self.controller.user['device_id']
    )
    
    if result['status']:
        medicines = result['Data']
        # ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    else:
        print(f"Error: {result['message']}")
```

### 3.2 ‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á API Service ‡πÉ‡∏´‡∏°‡πà

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏ô `server/my_service.py`:

```python
import requests
from lib.loadenv import API_URL

class MyService:
    def __init__(self):
        self.base_url = API_URL
    
    def get_data(self, user_id):
        """‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"""
        try:
            url = f"{self.base_url}/api/my_endpoint.php"
            payload = {"user_id": user_id}
            
            response = requests.post(url, json=payload, timeout=10)
            
            if response.status_code == 200:
                return response.json()
            else:
                return {"status": False, "message": "Server error"}
                
        except requests.exceptions.RequestException as e:
            return {"status": False, "message": f"Network error: {e}"}
    
    def save_data(self, user_id, data):
        """‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"""
        try:
            url = f"{self.base_url}/api/save_data.php"
            payload = {
                "user_id": user_id,
                "data": data
            }
            
            response = requests.post(url, json=payload, timeout=10)
            return response.json()
            
        except Exception as e:
            return {"status": False, "message": str(e)}
```

### 3.3 ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API ‡∏û‡∏£‡πâ‡∏≠‡∏° Loading Screen

```python
def fetch_data_with_loading(self):
    """‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏™‡∏î‡∏á Loading"""
    # ‡πÅ‡∏™‡∏î‡∏á Loading
    self.controller.show_loading("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà")
    
    # ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Background Thread
    def worker():
        try:
            result = my_service.get_data(self.controller.user['id'])
            
            if result['status']:
                # ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI ‡πÉ‡∏ô Main Thread
                self.controller.after(0, lambda: self.update_ui(result['data']))
                self.controller.after(0, lambda: self.controller.notifier.show_notification(
                    "‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", success=True
                ))
            else:
                self.controller.after(0, lambda: self.controller.notifier.show_notification(
                    result['message'], success=False
                ))
        except Exception as e:
            self.controller.after(0, lambda: self.controller.notifier.show_notification(
                f"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: {e}", success=False
            ))
        finally:
            # ‡∏ã‡πà‡∏≠‡∏ô Loading
            self.controller.after(0, self.controller.hide_loading)
    
    threading.Thread(target=worker, daemon=True).start()
```

---

## üé® 4. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Styles ‡πÅ‡∏•‡∏∞ Colors

```python
from config.styles import (
    force_color,      # ‡∏™‡∏µ‡∏´‡∏•‡∏±‡∏Å
    back_color,       # ‡∏™‡∏µ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á
    hover_color,      # ‡∏™‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠ hover
    word_color,       # ‡∏™‡∏µ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
    select_color,     # ‡∏™‡∏µ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    BUTTON_RADIUS,    # ‡∏°‡∏∏‡∏°‡πÇ‡∏Ñ‡πâ‡∏á‡∏õ‡∏∏‡πà‡∏°
    ROLE_THEMES       # ‡∏ò‡∏µ‡∏°‡∏ï‡∏≤‡∏° role
)

# ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
button = ctk.CTkButton(
    self,
    text="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å",
    fg_color=force_color,
    hover_color=hover_color,
    text_color="white",
    corner_radius=BUTTON_RADIUS
)
```

---

## üîÑ 5. Navigation ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤

```python
# ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏∑‡πà‡∏ô
from views.home_view import HomePage
self.controller.show_frame(HomePage)

# ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÉ‡∏ä‡πâ controller.user ‡∏´‡∏£‡∏∑‡∏≠ global state)
self.controller.user['temp_data'] = {"key": "value"}
self.controller.show_frame(TargetView)
```

---

## üì± 6. ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ Notifier (‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)

```python
# ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
self.controller.notifier.show_notification("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", success=True)

# ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß
self.controller.notifier.show_notification("‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", success=False)
```

---

## üîê 7. ‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• User

```python
# ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• user ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
if self.controller.user:
    user_id = self.controller.user['id']
    user_name = self.controller.user.get('firstname_th', '‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ')
    user_role = self.controller.user.get('urole', '').lower()
    device_id = self.controller.user['device_id']
```

---

## üß™ 8. Best Practices

### ‚úÖ DO (‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥)
- ‡πÉ‡∏ä‡πâ `on_show()` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
- ‡πÉ‡∏ä‡πâ Threading ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API calls ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô
- ‡πÉ‡∏ä‡πâ `controller.after(0, callback)` ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI ‡∏à‡∏≤‡∏Å Thread
- Import locally ‡πÉ‡∏ô method ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á circular imports
- ‡πÉ‡∏ä‡πâ try-except ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API calls
- ‡πÅ‡∏™‡∏î‡∏á Loading Screen ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ô‡∏≤‡∏ô

### ‚ùå DON'T (‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥)
- ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£ import views ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà top-level (‡πÉ‡∏ä‡πâ local import ‡πÅ‡∏ó‡∏ô)
- ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏Å API ‡πÉ‡∏ô Main Thread ‡πÇ‡∏î‡∏¢‡∏ï‡∏£‡∏á
- ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó UI ‡∏à‡∏≤‡∏Å Background Thread
- ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£ hardcode ‡∏Ñ‡πà‡∏≤‡∏™‡∏µ (‡πÉ‡∏ä‡πâ‡∏à‡∏≤‡∏Å config.styles)
- ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏ß‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á global variables

---

## üêõ 9. Debugging Tips

```python
# ‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• debug
print(f"[DEBUG] User ID: {self.controller.user['id']}")

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ frame ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
def on_show(self):
    print(f"{self.__class__.__name__} is now visible")

# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö network status
network_status = self.controller.network_status_var.get()
print(f"Network: {network_status}")
```

---

## üìù 10. ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÅ‡∏ö‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå

```python
# views/example_view.py
import customtkinter as ctk
from PIL import Image
import threading
from lib.loadenv import PATH
from config.styles import force_color, back_color, hover_color
from server.managemedic import manageMedicData

manageMedic = manageMedicData()

class ExampleView(ctk.CTkFrame):
    def __init__(self, parent, controller):
        super().__init__(parent)
        self.controller = controller
        self.data = []
        
        # Background
        bg_image = Image.open(f"{PATH}image/background.png").resize((1024, 800))
        self.bg_ctk_image = ctk.CTkImage(light_image=bg_image, size=(1024, 800))
        bg_label = ctk.CTkLabel(self, image=self.bg_ctk_image, text="")
        bg_label.place(x=0, y=0, relwidth=1, relheight=1)
        
        # Title
        title = ctk.CTkLabel(
            self,
            text="‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤‡πÉ‡∏´‡∏°‡πà",
            font=("TH Sarabun New", 36, "bold"),
            text_color=force_color
        )
        title.place(x=400, y=50)
        
        # Content Frame
        self.content_frame = ctk.CTkScrollableFrame(
            self,
            width=800,
            height=400,
            fg_color="white"
        )
        self.content_frame.place(x=100, y=150)
        
        # Back Button
        back_btn = ctk.CTkButton(
            self,
            text="‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö",
            command=self.go_back,
            fg_color=force_color,
            hover_color=hover_color,
            width=120,
            height=40
        )
        back_btn.place(x=20, y=20)
    
    def on_show(self):
        """‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•"""
        print("ExampleView is now visible")
        self.load_data()
    
    def load_data(self):
        """‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"""
        self.controller.show_loading("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà")
        
        def worker():
            try:
                result = manageMedic.getMedicine(
                    self.controller.user['id'],
                    self.controller.user['device_id']
                )
                
                if result['status']:
                    self.data = result['Data']
                    self.controller.after(0, self.display_data)
                    self.controller.after(0, lambda: self.controller.notifier.show_notification(
                        "‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", success=True
                    ))
                else:
                    self.controller.after(0, lambda: self.controller.notifier.show_notification(
                        result['message'], success=False
                    ))
            except Exception as e:
                self.controller.after(0, lambda: self.controller.notifier.show_notification(
                    f"‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: {e}", success=False
                ))
            finally:
                self.controller.after(0, self.controller.hide_loading)
        
        threading.Thread(target=worker, daemon=True).start()
    
    def display_data(self):
        """‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•"""
        # ‡∏•‡πâ‡∏≤‡∏á content ‡πÄ‡∏Å‡πà‡∏≤
        for widget in self.content_frame.winfo_children():
            widget.destroy()
        
        # ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà
        for item in self.data:
            label = ctk.CTkLabel(
                self.content_frame,
                text=item['medicine_name'],
                font=("TH Sarabun New", 24)
            )
            label.pack(pady=10)
    
    def go_back(self):
        """‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ Home"""
        from views.home_view import HomePage
        self.controller.show_frame(HomePage)
```

---

## üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏û‡∏±‡∏í‡∏ô‡∏≤

1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå view ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô `views/`
2. ‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡πÉ‡∏ô `app_controller.py`
3. ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏ô `home_view.py` (‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£)
4. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
5. Commit ‡πÅ‡∏•‡∏∞ Push

---

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏™‡∏ñ‡∏≤‡∏õ‡∏±‡∏ï‡∏¢‡∏Å‡∏£‡∏£‡∏°
